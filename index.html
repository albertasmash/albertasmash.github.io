<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Jarrett's Tournament 4</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="css/bootstrap.css" rel="stylesheet">
	<link rel="stylesheet" href="style.css" type="text/css">
	<link href="css/lightbox.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Poppins:400,600,700,500,300' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Roboto:400,900italic,900,700italic,700,400italic,500,500italic,300,100italic,100,300italic' rel='stylesheet' type='text/css'>

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

	<style>
	/* TEMPORARY STYLE STUFF... MERGE THESE IN WITH style.css LATER */

	/*.container-fluid {
	border: 3px solid red;
}
.container {
border: 2px solid magenta;
}
#photos-thumbnails {
border: 3px solid green;
}
.photos-display {
border: 3px solid blue;
}
.photos-text {
border: 2px solid magenta;
}
.col-md-6 {
	border: 2px solid magenta;
}
.counter-item {
	border: 2px solid blue;
} */

.twitchplayer iframe {
	display: block;
	margin-left: auto;
	margin-right: auto;
	width: 600px;
	height: 400px; /* TODO: figure out how to resize twitch player properly */
}
.photos
{
	background: #ff9933;
	padding: 0px 0px;
}
.thumbnail {
	position: relative;
	float: left;
	width: 33.33333%;
}
.thumbnail img {
	max-height: 60px; /* 60 for 3-wide, 91 for 2-wide - probably don't need this if we just ensure all pictures have the same aspect ratio */
}
#photos-maincaption h3 {
	text-align: center;
	padding: 30px 0px 10px 0px;
	font-size: 15px;
	float: left;
	width: 100%;
	font-weight: 600;
	background: #f93;
	color:#000;
	margin:0px;
	font-family: 'Roboto', sans-serif;
	height: 100px;
}
#photos-mainimage img {
	position: relative;
	float: left;
	width: 100%;
	height: auto;
}

.info-text
{
	font-family: 'Roboto', sans-serif;
	font-weight: 700;
	letter-spacing: 5px;
	margin-bottom:30px;
	margin-top:30px;
}
h2.info-text::after {
    display: block;
    margin: 17px auto 0px;
    width: 80px;
    height: 1px;
    background: #000 none repeat scroll 0% 0%;
    content: "";
}

.counter-text {
	font-family: 'Verdana', sans-serif;
	font-weight: 1000;
}

.value
{
		color: #8ab839;
		text-align: center;
		float: left;
		background: white;
}
.desc h4
{
	display: inline;
	font-family: 'Poppins', sans-serif;
	font-weight: 600;
	text-transform: uppercase;
	color: #000;
	font-size: 14px;
}
.desc ul {
	width: 75%;
	margin: 10px auto 20px auto;
	font-family: 'Poppins', sans-serif;
	font-size: 14px;
}
.history
{
	background: #f39;
	padding: 60px 0px;
}
.history-text
{
	font-family: 'Roboto', sans-serif;
	font-weight: 700;
	letter-spacing: 5px;
	margin-bottom:30px;
	margin-top:30px;
}
h2.history-text::after {
    display: block;
    margin: 17px auto 0px;
    width: 80px;
    height: 1px;
    background: #FFF none repeat scroll 0% 0%;
    content: "";
}

</style>
</head>
<body>

	<!-- NAVIGATION SECTION -->
	<header class="header">
		<div class="container">
			<div class="row">
				<div class="col-md-4 ">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle menu-button" data-toggle="collapse" data-target="#myNavbar">
							<span class="glyphicon glyphicon-align-justify"></span>
						</button>
						<a class="navbar-brand logo" href="#">Super Smash Bros University</a>
					</div>
				</div>
				<div class="col-md-8">
					<nav class="collapse navbar-collapse" id="myNavbar" role="navigation">
						<ul class="nav navbar-nav navbar-right menu">
							<li><a href="#page-top" class="page-scroll active">Event Info</a></li>
							<li><a href="#section2" class="page-scroll">Register/Donate</a></li>
							<li><a href="#section3" class="page-scroll">History</a></li>
							<li><a href="#section4" class="page-scroll">Photos</a></li>
							<li><a href="#section5" class="page-scroll">Contact</a></li>
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</header>

	<!-- EVENT INFO SECTION -->
	<div class="container-fluid main" id="page-top">
		<div class="row">
			<div class="col-md-12 backg">
				<div class="col-md-4 col-md-offset-4 inner col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-3">
					<div class="text-box">
						<p class="intro">SSBU Presents</p>
						<h2>Jarrett's Tournament 4</h2>
						<h3>A Super Smash Bros Melee Charity Event</h3>
						<!-- <p>By <span><a href="http://www.html5layouts.com">HTML5 Layouts</a></span></p>
						<p><a href="#" class="link-button">Tell Me Something</a></p> -->
					</div>
				</div>
			</div>
			<div class="col-md-12 col-sm-12 col-xs-12 info desc">
				<h2 class="text-center info-text">Event Info</h2>
					<p>Super Smash Bros University [SSBU] welcomes everyone to come to our fundraiser Smash Bros tournament for the Autism Society of Edmonton Area in memory of Jarrett "Solaris" Bortscher.</p>
						<ul>
							<li><h4>Date:</h4> March 12, 2016</li>
							<li><h4>Time:</h4> 10:00 AM</li>
							<li><h4>Location:</h4> The Church at South Edmonton - 9910 67 Ave NW, T6E 0P5</li>
							<li><h4>Game:</h4> Super Smash Bros. Melee</li>
						</ul>
					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet,
						consectetur adipiscing elit.  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet,
						consectetur adipiscing elit.</p>

			</div>
		</div>
	</div>

	<!-- REGISTER/DONATE SECTION -->
	<div class="container-fluid register" id="section2">
		<div class="container">
			<div class="row" id="starts">
				<div class="col-md-12">
					<!-- TODO: decide on title for this section -->
					<h2 class="text-center register-text">Register / Donate</h2>
					<div class="col-md-4 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-pencil"></i>
							</div>
						</div>
						<div class="col-md-8 col-md-offset-2 col-sm-offset-1 col-sm-9 col-xs-12 icon-text-box">
							<h4>Facebook</h4>
							<p>Join our Facebook event for up-to-date news and information.</p>
						</div>
					</div>
					<div class="col-md-4 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-cog"></i>
							</div>
						</div>
						<div class="col-md-8 col-md-offset-2 col-sm-offset-1 col-sm-9 col-xs-12 icon-text-box">
							<h4>smash.gg</h4>
							<p>Follow JT4 on the popular tournament tracker.</p>
						</div>
					</div>
					<div class="col-md-4 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-time"></i>
							</div>
						</div>
						<div class="col-md-8 col-md-offset-2 col-sm-offset-1 col-sm-9 col-xs-12 icon-text-box">
							<h4>Donate via Paypal</h4>
							<p>Want to contribute to the cause but can't make it in person?</p>
						</div>
					</div>
				</div>
				<div class="col-md-12 countbg countspace">
					<div class="col-xs-12 col-sm-12 col-md-12">
						<div class="counter-item">
							<i class="glyphicon glyphicon-user"></i>
							<div class="timer" data-from="0" data-to="100" data-speed="5000" data-refresh-interval="50"></div>
							<h5>Entrants For The Event</h5>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>



	<!-- HISTORY SECTION -->
	<div class="container-fluid history" id="section3">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2 class="text-center history-text">History</h2>
					<div class="col-md-6 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-pencil"></i>
							</div>
						</div>
						<div class="col-md-9 col-md-offset-1 col-sm-10 col-xs-12 icon-text-box">
							<h4>Modern Design</h4>
							<p>Lorem ipsum dolor sit amet, consectetur elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
						</div>
					</div>
					<div class="col-md-6 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-cog"></i>
							</div>
						</div>
						<div class="col-md-9 col-md-offset-1 col-sm-10 col-xs-12 icon-text-box">
							<h4>Easy To Customize</h4>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
						</div>
					</div>
					<div class="col-md-6 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-time"></i>
							</div>
						</div>
						<div class="col-md-9 col-md-offset-1 col-sm-10 col-xs-12 icon-text-box">
							<h4>Save Time</h4>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, adipiscing elit.</p>
						</div>
					</div>
					<div class="col-md-6 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-briefcase"></i>
							</div>
						</div>
						<div class="col-md-9 col-md-offset-1 col-sm-10 col-xs-12 icon-text-box">
							<h4>Professional Work</h4>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit consectetur adipiscing elit.</p>
						</div>
					</div>
					<div class="col-md-6 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-user"></i>
							</div>
						</div>
						<div class="col-md-9 col-md-offset-1 col-sm-10 col-xs-12 icon-text-box">
							<h4>User-friendly Interface</h4>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit consectetur adipiscing elit.</p>
						</div>
					</div>
					<div class="col-md-6 col-sm-12 col-xs-12 icon-box">
						<div class="col-md-2 col-sm-2 col-xs-12">
							<div class="iconing">
								<i class="glyphicon glyphicon-heart"></i>
							</div>
						</div>
						<div class="col-md-9 col-md-offset-1 col-sm-10 col-xs-12 icon-text-box">
							<h4>Made With Love</h4>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- PHOTOS SECTION -->
	<div class="container-fluid photos" id="section4">
		<div class="container">
			<div class="row">
				<div class="col-md-12 col-sm-12 col-xs-12 photos-list">
					<h2 class="text-center photos-text">Photos</h2>

					<div class="col-md-12 col-sm-12 col-xs-12">
						<div class="col-md-4 col-sm-4 col-xs-4" id="photos-thumbnails">
							<i>Loading thumbnails...</i>
						</div>

						<div class="col-md-8 col-sm-8 col-xs-8 photos-display">
							<div id="photos-mainimage">
								<i>Loading image...</i>
							</div>
						</div>
					</div>

					<div class="col-md-12 col-sm-12 col-xs-12">
						<div class="col-md-offset-4 col-sm-offset-4 col-xs-offset-4 col-md-8 col-sm-8 col-xs-8">
							<div id="photos-maincaption">
								<h3><i>Loading caption...</i></h3>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>



	<!-- CONTACT SECTION -->
	<div class="container-fluid contact" id="section5">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2 class="text-center contact-text">Contact</h2>
					<div class="col-md-6 col-sm-12 col-xs-12contact-form">
						<form role="form">
							<div class="form-group">
								<input type="text" class="form-control form-effect" id="name" placeholder="Name">
							</div>
							<div class="form-group">
								<input type="email" class="form-control form-effect" id="email" placeholder="Email">
							</div>
							<div class="form-group">
								<textarea type="textarea" class="form-control form-effect" id="text" placeholder="Message"></textarea>
							</div>
							<button type="submit" class="btn btn-default btn-sub">Submit</button>
						</form>
					</div>
					<div class="col-md-6 col-sm-12 col-xs-12 address-space">
						<div id="map-canvas"></div>
						<div class="address">
							<h3>Address</h3>
							<p><i class="glyphicon glyphicon-map-marker"></i>The Church at South Edmonton,9910 67 ave NW,T6E 0P5 </p>
							<p><i class="glyphicon glyphicon-envelope"></i>Info@example.com</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- FOOTER SECTION -->
	<div class="container-fluid footer">
		<div class="row">
			<div class="col-md-12">
				<p>Built from Ravalic 2015 template provided by <a href="http://www.html5layouts.com">HTML5 Layouts</a></p>
			</div>
		</div>
	</div>













<!-- ******************************* SCRIPTS ******************************* -->
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/jquery.countTo.js"></script>
	<script type="text/javascript" src="js/jquery.waypoints.min.js"></script>
	<script src="https://maps.googleapis.com/maps/api/js"></script>
	<script src="js/lightbox.min.js"></script>
	<script>
	function initialize() {
		var mapCanvas = document.getElementById('map-canvas');
		var mapOptions = {
			center: new google.maps.LatLng(53.503698, -113.487486),
			zoom: 12,
			mapTypeId: google.maps.MapTypeId.ROADMAP
		}
		var map = new google.maps.Map(mapCanvas, mapOptions)
	}
	google.maps.event.addDomListener(window, 'load', initialize);
	</script>
	<script>
	$(document).ready(function () {

		initializePhotos();

		$(document).on("scroll", onScroll);

		/* perform scrolling when nav link is clicked */
		$('a[href^="#"]').on('click', function (e) {
			e.preventDefault();
			$(document).off("scroll");

			$('a').each(function () {
				$(this).removeClass('active');
			})
			$(this).addClass('active');

			var target = this.hash;
			$target = $(target);
			$('html, body').stop().animate({
				'scrollTop': $target.offset().top
			}, 500, 'swing', function () {
				window.location.hash = target;
				$(document).on("scroll", onScroll);
			});
		});

		/* handle mouseover of photos */
		$('.thumbnail').mouseenter(
			function() {

				var imageHTML = $(this).html();
				var imageId = imageHTML.substr(22,3);

				updateImage(imageId);

				$(this).css("border","1px solid red");
			}
		);

		$('.thumbnail').mouseleave(
			function() {
				$(this).css("border","1px solid #ddd");
			}
		);

	});

	/* perform updating of which nav link is selected based on where the screen is scrolled to */
	function onScroll(event){
		var scrollPosition = $(document).scrollTop();
		$('nav a').each(function () {
			var currentLink = $(this);
			var refElement = $(currentLink.attr("href"));
			if (refElement.position().top <= scrollPosition && refElement.position().top + refElement.height() > scrollPosition) {
				$('nav ul li a').removeClass("active");
				currentLink.addClass("active");
			}
			else{
				currentLink.removeClass("active");
			}
		});
	}

	/* initialize photo thumbnails, main photo, and main caption */
	function initializePhotos() {

		var n = numCaptions();
		var photoarray = "";
		for (i = 1; i <= n; i++) {
			var id = "";
			if (i >= 1 && i <= 9) {
				id = "00" + i;
			}
			else if (i >= 10 && i <= 99) {
				id = "0" + i;
			}
			else {
				id = id + i;
			}
			photoarray = photoarray + "<div class=\"thumbnail\"><img src=\"images/image" + id + ".jpg\" /></div>";
		}
		$('#photos-thumbnails').html(photoarray);
		updateImage("001");
	}

	/* return number of images present - NOT COMPLETE */
	function numCaptions() {
		var xmlreq = new XMLHttpRequest();
		var result;
		xmlreq.onreadystatechange = function() {
			if (xmlreq.readyState == 4 && xmlreq.status == 200) {
				var xmldoc = xmlreq.responseXML;
				var captions = xmldoc.getElementsByTagName("caption");
				result = captions.length;
			}
		};
		xmlreq.open("GET", "captions.xml", true);
		xmlreq.send();

		return 18; // TEMPORARY
	}

	/* update the main image and the caption */
	/* NOTE: this doesn't work locally on Chrome due (presumably) to cross-domain security issues, but it seems to work after uploaded */
	function updateImage(id) {
		var xmlreq = new XMLHttpRequest();
		xmlreq.onreadystatechange = function() {
			if (xmlreq.readyState == 4 && xmlreq.status == 200) {
				var xmldoc = xmlreq.responseXML;
				var captions = xmldoc.getElementsByTagName("caption");
				for (i = 0; i < captions.length; i++) {
					if (captions[i].getAttribute('id') == id) {
						$('#photos-maincaption').html("<h3>" + captions[i].childNodes[0].nodeValue + "</h3>");
					}
				}
			}
		};
		xmlreq.open("GET", "captions.xml", true);
		xmlreq.send();

		$('#photos-mainimage').hide().html("<img src=\"images/image" + id + ".jpg\" />").fadeIn(200);
	}

	</script>
	<script type="text/javascript">
	jQuery(function ($) {
		// custom formatting example
		$('.timer').data('countToOptions', {
			formatter: function (value, options) {
				return value.toFixed(options.decimals).replace(/\B(?=(?:\d{3})+(?!\d))/g, ',');
			}
		});

		// start all the timers
		$('#starts').waypoint(function() {
			$('.timer').each(count);
		});

		function count(options) {
			var $this = $(this);
			options = $.extend({}, options || {}, $this.data('countToOptions') || {});
			$this.countTo(options);
		}
	});
	</script>
</body>
</html>
